function update(){$wh=$(window).height(),$ww=$(window).width(),$(".modal-choose .modal-body").height($wh-46),$(".search, .post").height($wh),$(".wapper > .maps").height($wh-42),$(".search").find("input").hasClass("input-fr")&&($(".input-fr").val().length>0?($(".close-search").show(),$(".input-fr").css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style")));var t=($ww-20)/4-10;$(".post .postimg ul li").width(t).height(t),$(".post .postimg input[type=file]+label").height(t-2).css("line-height",t+"px")}function detailMore(t,e,a,i){"none"==$(e).css("display")?($(t).html(i),$(e).css("display","inline")):($(t).html(a),$(e).css("display","none"))}function relandPop(t,e){$(t).animate({right:0},120),$("body").addClass("bodySearchShow"),$(t).scrollTop(0),overlay(".overlay"),e&&$(t+"-footer").addClass("fixed")}function relandPopClose(t,e){$(t).removeAttr("style"),$("body").removeClass("bodySearchShow"),e&&$(t+"-footer").removeClass("fixed")}function searchreset(){$(".spinner").addClass("spinner-hide"),$(".spinner").parent().find(".collapse-title i").addClass("iconDownOpen").removeClass("iconUpOpen"),$(".btn-group .btn").removeClass("active"),$(".btn-group .btn:first-child").addClass("active"),$(".search input").val("")}function searchfr(){$(".search").removeAttr("style"),$(".search-btn").removeAttr("style"),$("body").removeClass("bodySearchShow"),searchreset()}function searchopen(){$(".search_mobile").hasClass("active")?searchfr():($(".search").animate({right:0},120),$(".search-btn").show(),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed"),overlay(".overlay"))}function post(){$(".post").animate({right:0},120),$("body").addClass("bodySearchShow"),$(".post").scrollTop(0),$(".post-footer").addClass("fixed"),overlay(".overlay")}function postExit(){$(".post").removeAttr("style"),$("body").removeClass("bodySearchShow"),$(".post-footer").removeClass("fixed")}function overlay(t){$(t).removeAttr("style"),$(".nav_mobile").removeClass("active").find("i").removeClass("iconLeftOpen").addClass("iconMenu"),$("body").removeClass("bodyNavShow").removeAttr("style"),$("nav.main").removeAttr("style")}function spinner(t,e,a){$(t).parent().find($(e)).hasClass(a)?($(t).parent().find($(e)).removeClass(a),$(t).find("i").addClass("iconUpOpen").removeClass("iconDownOpen"),$("html, body").animate({scrollTop:$(t).offset().top-44},300)):($(t).parent().find($(e)).addClass(a),$(t).find("i").addClass("iconDownOpen").removeClass("iconUpOpen"))}function boxClassToggle(t,e){$(t).toggleClass(e)}function showhide(t){$(t).toggle()}function showhidebox(t,e){$(t).hide(),$(e).show()}function showNotify(t,e,a,i){(null!==a||""!=a)&&$(a).html(i),(null!==t||""!=t)&&$(".notifyBox").html(t),null!==e||""!=e?$(e).fadeIn(100).delay(1800).slideUp(150):$(".notifyBox").fadeIn(100).delay(900).slideUp(150)}$(function(){$ww=$(window).width(),update(),$(window).resize(function(){update()}),$(".reland-title.fixed h3").html($(".wapper .reland-box:first-child h3").html()),$(".reland-title.fixed h4").html($(".wapper .reland-box:first-child h4").html()),$(".reland-title.fixed h5").html($(".wapper .reland-box:first-child h5").html()),$(".nav_mobile").click(function(){$(".overlay").show(),$(this).find("i").removeClass("iconMenu").addClass("iconLeftOpen"),$("body").addClass("bodyNavShow").animate({left:270},120),$("nav.main").animate({left:0},120)}),$(".overlay").click(function(){overlay(this)}),$(".search_mobile").click(function(){$(this).hasClass("active")?searchfr():($(".search").animate({right:0},120),$(".search-btn").show(),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed"))}),$(".search-footer a").click(function(){searchfr()}),$("header.main a").click(function(){$(this).toggleClass("active")}),$(".type-list li a, .list-sort li a").click(function(){$(this).parent().parent().find("a").removeClass("active"),$(this).addClass("active")}),$("footer.main .list-sort li a").click(function(){$(this).parent().parent().parent().hide()}),$("#typeBox .type-list li a").click(function(){$(".type-box .collapse-title span label").html($(this).html())}),$("#trendBox .type-list li a").click(function(){$(".trend-box .collapse-title span label").html($(this).html())}),$("#projectBox .type-list li a").click(function(){$(".project-box .collapse-title span label").html($(this).html())}),$("#addressBox .type-list li a").click(function(){$(".address-box .collapse-title span label").html($(this).html())}),$("#contactBox .type-list li a").click(function(){$(".contact-box .collapse-title span label").html($(this).html())}),$("#detailBox .type-list li a").click(function(){$(".detail-box .collapse-title span label").html($(this).html())}),$(".btn-more .collapse-title").click(function(){$(this).parent().hide(),$(this).parent().parent().find(".more-box").removeClass("more-box-hide"),$(this).parent().parent().find(".title-more").hide()}),$(".btn-reset .collapse-title").click(function(){$(this).parent().parent().find(".spinner").addClass("spinner-hide"),$(this).parent().parent().find(".spinner").parent().find(".collapse-title i").addClass("iconDownOpen").removeClass("iconUpOpen"),$(this).parent().parent().find(".btn-group .btn").removeClass("active"),$(this).parent().parent().find(".btn-group .btn:first-child").addClass("active"),$(this).parent().parent().find(".search").val("")}),$(".list-check li a").click(function(){$(this).toggleClass("active")}),$("#contactBox .contact-list li a").click(function(){$(this).toggleClass("active")}),$(".btn-group .btn").click(function(){$(this).hasClass("other")||$(this).parent().find("input").val("")}),$(".pack-box .btn-group .btn").each(function(){$(this).hasClass("active")&&$(this).parent().parent().find(".iconCheck").addClass("actived")}),$(".pack-box .btn-group .btn").click(function(){$(".pack-box .iconCheck").removeClass("actived"),$(".pack-box .collapse-title").removeClass("actived"),$(this).parent().parent().find(".iconCheck").addClass("actived"),$(this).parent().parent().find(".collapse-title").addClass("actived")}),$(".pack-box a").click(function(){$(".pack-box .collapse-title").removeClass("actived"),$(".pack-box .iconCheck").removeClass("actived"),$(".pack-box .btn-group .btn").removeClass("active"),$(this).parent().find(".collapse-title").addClass("actived"),$(this).parent().find(".iconCheck").addClass("actived"),$(this).parent().find(".btn-group .btn:nth-child(2)").addClass("active")}),$(".input-fr").keyup(function(){$(this).val().length>0?($(".close-search").show(),$(this).css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style"))}),$(".close-search").click(function(){$(this).removeAttr("style"),$(".input-fr").removeAttr("style").val("")}),$(".search .nav-tabs li a").click(function(){var t=$(this).attr("aria-controls"),e="";$(".search .nav-tabs li").removeClass("active"),$(this).parent().addClass("active"),$(".search .tab-content .tab-pane").removeClass("active"),$(".search .tab-content .tab-pane").each(function(){return t==$(this).attr("id")?void(e=$(this).attr("id")):void 0}),$("#"+e).addClass("active")}),$(".heart").click(function(){return $(this).find(".icon-heart").toggleClass("active"),$(this).find(".icon-heart").hasClass("active")?void showNotify("Lưu tin thành công",".heartNotify"):void showNotify("Bỏ lưu tin thành công",".heartNotify")}),$(".post-box .nav-tabs li a").click(function(){var t=$(this).attr("aria-controls"),e="";$(".post-box .nav-tabs li").removeClass("active"),$(this).parent().addClass("active"),$(".post-box .tab-content .tab-pane").removeClass("active"),$(".post-box .tab-content .tab-pane").each(function(){return t==$(this).attr("id")?void(e=$(this).attr("id")):void 0}),$("#"+e).addClass("active")});var t=0,e=$(".reland-title.fixed");$(".wapper .reland-box").each(function(){t++}),$(window).scroll(function(a){if(a.stopPropagation(),windowPos=$(window).scrollTop(),$(".reland-title").hasClass("fixed")){for(var i=1;t>=i;i++){var n=$(".wapper .reland-box_"+i),o=n.offset().top-120,s=n.height();windowPos>=o&&o+s>windowPos&&(e.show(),e.find("h3").html(n.find("h3").html()),e.find("h4").html(n.find("h4").html()),e.find("h5").html(n.find("h5").html()))}$(".wapper .reland-box").each(function(){var t="."+$(this).attr("reland-item");$(t).offset().top<windowPos&&$(t).offset().top+$(t).height()-40>windowPos&&windowPos>$(t).find(".btn-box").offset().top-124&&e.hide()})}$("div").hasClass("detail-page")&&(windowPos>300?$("header.main").removeClass("gradient").addClass("blue"):$("header.main").removeClass("blue").addClass("gradient"))}),Hammer.plugins.fakeMultitouch(),$("select.drum").drum({onChange:function(t){0!=t.value&&$("#"+t.id+"_value").html($("#"+t.id+" option:selected").text())},setIndex:function(t){console.log(t)}}),$(".toggle").toggles({on:!1}),$(".toggle.on").toggles({on:!0})}),function(t){t.fn.drawDoughnutChart=function(e,a){function i(t,e){var a=-1.57,i=4.7131,n=v+b(a)*t,o=w+g(a)*t,s=v+b(a)*e,l=w+g(a)*e,r=v+b(i)*t,c=w+g(i)*t,d=v+b(i)*e,h=w+g(i)*e,p=["M",n,o,"A",t,t,0,1,1,r,c,"Z","M",d,h,"A",e,e,0,1,0,s,l,"Z"];return p=p.join(" ")}function n(a){var i=t(this).data().order;I.text(e[i].title+": "+e[i].value).fadeIn(200),y.onPathEnter.apply(t(this),[a,e])}function o(a){I.hide(),y.onPathLeave.apply(t(this),[a,e])}function s(t){I.fadeIn(200).css({top:t.pageY+y.tipOffsetY,left:t.pageX-I.width()/2+y.tipOffsetX})}function l(t){var a=-C/2,n=1;if(y.animation&&y.animateRotate&&(n=t),r(t,P),E.attr("opacity",t),1===e.length&&4.7122<n*(e[0].value/P)*2*C+a)return void A[0].attr("d",i(O,N));for(var o=0,s=e.length;s>o;o++){var l=n*(e[o].value/P)*2*C,c=a+l,d=(c-a)%(2*C)>C?1:0,h=v+b(a)*O,p=w+g(a)*O,$=v+b(a)*N,f=w+g(a)*N,u=v+b(c)*O,m=w+g(c)*O,x=v+b(c)*N,k=w+g(c)*N,S=["M",h,p,"A",O,O,0,d,1,u,m,"L",x,k,"A",N,N,0,d,0,$,f,"Z"];A[o].attr("d",S.join(" ")),a+=l}}function r(t,e){L.css({opacity:t}).text((e*t).toFixed(0)+"k")}function c(t,e){var a=y.animation?$(T(t),null,0):1;e(a)}function d(t){var e=y.animation?1/$(y.animationSteps,Number.MAX_VALUE,1):1,a=y.animation?0:1;k(function(){a+=e,c(a,t),1>=a?k(arguments.callee):y.afterDrawed.call(f)})}function h(t){return Math.min.apply(null,t)}function p(t){return!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e,a){return p(e)&&t>e?e:p(a)&&a>t?a:t}var f=this,u=f.width(),m=f.height(),v=u/2,w=m/2,b=Math.cos,g=Math.sin,C=Math.PI,y=t.extend({segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:1,baseColor:"rgba(0,0,0,0)",baseOffset:1,edgeOffset:0,percentageInnerCutout:75,animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",animateRotate:!0,tipOffsetX:-8,tipOffsetY:-45,tipClass:"doughnutTip",summaryClass:"doughnutSummary",summaryTitle:"Tổng tài khoản",summaryTitleClass:"doughnutSummaryTitle",summaryNumberClass:"doughnutSummaryNumber",beforeDraw:function(){},afterDrawed:function(){},onPathEnter:function(){},onPathLeave:function(){}},a),x={linear:function(t){return t},easeInOutExpo:function(t){var e=.5>t?8*t*t*t*t:1-8*--t*t*t*t;return e>1?1:e}},k=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/6)}}();y.beforeDraw.call(f);var S=t('<svg width="'+u+'" height="'+m+'" viewBox="0 0 '+u+" "+m+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(f),A=[],T=x[y.animationEasing],O=h([m/2,u/2])-y.edgeOffset,N=O*(y.percentageInnerCutout/100),P=0,M=O+y.baseOffset,B=N-y.baseOffset;t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({d:i(M,B),fill:y.baseColor}).appendTo(S);var E=t(document.createElementNS("http://www.w3.org/2000/svg","g"));E.attr({opacity:0}).appendTo(S);for(var I=t('<div class="'+y.tipClass+'" />').appendTo("body").hide(),D=(I.width(),I.height(),2*(N-(O-N))),F=t('<div class="'+y.summaryClass+'" />').appendTo(f).css({width:D+"px",height:D+"px","margin-left":-(D/2)+"px","margin-top":-(D/2)+"px"}),L=t('<p class="'+y.summaryNumberClass+'"></p>').appendTo(F).css({opacity:0}),U=(t('<p class="'+y.summaryTitleClass+'">'+y.summaryTitle+"</p>").appendTo(F),0),_=e.length;_>U;U++)P+=e[U].value,A[U]=t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({"stroke-width":y.segmentStrokeWidth,stroke:y.segmentStrokeColor,fill:e[U].color,"data-order":U}).appendTo(E).on("mouseenter",n).on("mouseleave",o).on("mousemove",s);return d(l),f}}(jQuery);