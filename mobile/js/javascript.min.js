function update(){$wh=$(window).height(),$ww=$(window).width(),$(".modal-choose .modal-body").height($wh-46),$(".search, .post").height($wh),$(".wapper > .maps").height($wh-86),$(".search").find("input").hasClass("input-fr")&&($(".input-fr").val().length>0?($(".close-search").show(),$(".input-fr").css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style")))}function detailMore(e,t,o,a){"none"==$(t).css("display")?($(e).html(a),$(t).css("display","inline")):($(e).html(o),$(t).css("display","none"))}function relandPop(e,t){$(e).animate({right:0},120),$("body").addClass("bodySearchShow"),$(e).scrollTop(0),overlay(".overlay"),t&&$(e+"-footer").addClass("fixed")}function relandPopClose(e,t){$(e).removeAttr("style"),$("body").removeClass("bodySearchShow"),t&&$(e+"-footer").removeClass("fixed")}function searchreset(){$(".btn-more").removeAttr("style"),$(".more-box").addClass("more-box-hide"),$(".spinner").addClass("spinner-hide"),$(".spinner").parent().find(".collapse-title i").addClass("iconDownOpen").removeClass("iconUpOpen"),$(".btn-group .btn").removeClass("active"),$(".btn-group .btn:first-child").addClass("active")}function searchfr(){$(".search").removeAttr("style"),$(".search_mobile").find("i").removeClass("iconCancel").addClass("iconSearch"),$("body").removeClass("bodySearchShow"),$(".search-footer").removeClass("fixed"),searchreset()}function searchopen(){$(".search_mobile").find("i").hasClass("iconSearch")?($(".search").animate({right:0},120),$(".search_mobile").find("i").removeClass("iconSearch").addClass("iconCancel"),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed"),overlay(".overlay")):searchfr()}function post(){$(".post").animate({right:0},120),$("body").addClass("bodySearchShow"),$(".post").scrollTop(0),$(".post-footer").addClass("fixed"),overlay(".overlay")}function postExit(){$(".post").removeAttr("style"),$("body").removeClass("bodySearchShow"),$(".post-footer").removeClass("fixed")}function overlay(e){$(e).removeAttr("style"),$(".nav_mobile").find("i").removeClass("iconLeftOpen").addClass("iconMenu"),$("body").removeClass("bodyNavShow").removeAttr("style"),$("nav.main").removeAttr("style")}function spinner(e,t,o){$(e).parent().find($(t)).hasClass(o)?($(e).parent().find($(t)).removeClass(o),$(e).find("i").addClass("iconUpOpen").removeClass("iconDownOpen"),$("html, body").animate({scrollTop:$(e).offset().top-44},300)):($(e).parent().find($(t)).addClass(o),$(e).find("i").addClass("iconDownOpen").removeClass("iconUpOpen"))}function showhide(e){$(e).toggle()}$(function(){$ww=$(window).width(),update(),$(window).resize(function(){update()}),$(".nav_mobile").click(function(){$(".overlay").show(),$(this).find("i").removeClass("iconMenu").addClass("iconLeftOpen"),$("body").addClass("bodyNavShow").animate({left:270},120),$("nav.main").animate({left:0},120)}),$(".overlay").click(function(){overlay(this)}),$(".search_mobile").click(function(){$(this).find("i").hasClass("iconSearch")?($(".search").animate({right:0},120),$(".search_mobile").find("i").removeClass("iconSearch").addClass("iconCancel"),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed")):searchfr()}),$(".search-footer a").click(function(){searchfr()}),$(".type-list li a, .list-sort li a").click(function(){$(this).parent().parent().find("a").removeClass("active"),$(this).addClass("active")}),$("#typeBox .type-list li a").click(function(){$(".type-box .collapse-title span label").html($(this).html())}),$("#trendBox .type-list li a").click(function(){$(".trend-box .collapse-title span label").html($(this).html())}),$("#projectBox .type-list li a").click(function(){$(".project-box .collapse-title span label").html($(this).html())}),$("#addressBox .type-list li a").click(function(){$(".address-box .collapse-title span label").html($(this).html())}),$("#contactBox .type-list li a").click(function(){$(".contact-box .collapse-title span label").html($(this).html())}),$("#detailBox .type-list li a").click(function(){$(".detail-box .collapse-title span label").html($(this).html())}),$(".btn-more .collapse-title").click(function(){$(this).parent().hide(),$(".more-box").removeClass("more-box-hide")}),$(".btn-reset .collapse-title").click(function(){searchreset()}),$(".list-check li a").click(function(){$(this).toggleClass("active")}),$(".input-fr").keyup(function(){$(this).val().length>0?($(".close-search").show(),$(this).css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style"))}),$(".close-search").click(function(){$(this).removeAttr("style"),$(".input-fr").removeAttr("style").val("")});var e=0,t=$(".reland-title.fixed");$(".wapper .reland-box").each(function(){e++}),$(window).scroll(function(o){if(o.stopPropagation(),windowPos=$(window).scrollTop(),$(".wapper .reland-box").find("div").hasClass("reland-title")){for(var a=1;e>=a;a++){{var n=$(".wapper .reland-box_"+a),i=n.offset().top,s=n.height();n.find(".btn-box").offset().top}windowPos>=i&&i+s>windowPos&&(t.show(),t.find("h3").html(n.find("h3").html()),t.find("h4").html(n.find("h4").html()),t.find("h5").html(n.find("h5").html()))}$(".wapper .reland-box").each(function(){var e="."+$(this).attr("reland-item");$(e).offset().top<windowPos&&$(e).offset().top+$(e).height()-40>windowPos&&windowPos>$(e).find(".btn-box").offset().top-86&&t.hide()})}}),Hammer.plugins.fakeMultitouch(),$("select.drum").drum({onChange:function(e){0!=e.value&&$("#"+e.id+"_value").html($("#"+e.id+" option:selected").text())}}),$(".toggle").toggles({on:!1}),$(".toggle.on").toggles({on:!0})}),function(e){e.fn.drawDoughnutChart=function(t,o){function a(e,t){var o=-1.57,a=4.7131,n=w+y(o)*e,i=v+b(o)*e,s=w+y(o)*t,l=v+b(o)*t,r=w+y(a)*e,c=v+b(a)*e,d=w+y(a)*t,h=v+b(a)*t,f=["M",n,i,"A",e,e,0,1,1,r,c,"Z","M",d,h,"A",t,t,0,1,0,s,l,"Z"];return f=f.join(" ")}function n(o){var a=e(this).data().order;D.text(t[a].title+": "+t[a].value).fadeIn(200),C.onPathEnter.apply(e(this),[o,t])}function i(o){D.hide(),C.onPathLeave.apply(e(this),[o,t])}function s(e){D.fadeIn(200).css({top:e.pageY+C.tipOffsetY,left:e.pageX-D.width()/2+C.tipOffsetX})}function l(e){var o=-g/2,n=1;if(C.animation&&C.animateRotate&&(n=e),r(e,M),_.attr("opacity",e),1===t.length&&4.7122<n*(t[0].value/M)*2*g+o)return void A[0].attr("d",a(O,P));for(var i=0,s=t.length;s>i;i++){var l=n*(t[i].value/M)*2*g,c=o+l,d=(c-o)%(2*g)>g?1:0,h=w+y(o)*O,f=v+b(o)*O,p=w+y(o)*P,m=v+b(o)*P,u=w+y(c)*O,$=v+b(c)*O,x=w+y(c)*P,S=v+b(c)*P,k=["M",h,f,"A",O,O,0,d,1,u,$,"L",x,S,"A",P,P,0,d,0,p,m,"Z"];A[i].attr("d",k.join(" ")),o+=l}}function r(e,t){I.css({opacity:e}).text((t*e).toFixed(0)+"k")}function c(e,t){var o=C.animation?p(T(e),null,0):1;t(o)}function d(e){var t=C.animation?1/p(C.animationSteps,Number.MAX_VALUE,1):1,o=C.animation?0:1;S(function(){o+=t,c(o,e),1>=o?S(arguments.callee):C.afterDrawed.call(m)})}function h(e){return Math.min.apply(null,e)}function f(e){return!isNaN(parseFloat(e))&&isFinite(e)}function p(e,t,o){return f(t)&&e>t?t:f(o)&&o>e?o:e}var m=this,u=m.width(),$=m.height(),w=u/2,v=$/2,y=Math.cos,b=Math.sin,g=Math.PI,C=e.extend({segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:1,baseColor:"rgba(0,0,0,0)",baseOffset:1,edgeOffset:0,percentageInnerCutout:75,animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",animateRotate:!0,tipOffsetX:-8,tipOffsetY:-45,tipClass:"doughnutTip",summaryClass:"doughnutSummary",summaryTitle:"Tổng tài khoản",summaryTitleClass:"doughnutSummaryTitle",summaryNumberClass:"doughnutSummaryNumber",beforeDraw:function(){},afterDrawed:function(){},onPathEnter:function(){},onPathLeave:function(){}},o),x={linear:function(e){return e},easeInOutExpo:function(e){var t=.5>e?8*e*e*e*e:1-8*--e*e*e*e;return t>1?1:t}},S=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();C.beforeDraw.call(m);var k=e('<svg width="'+u+'" height="'+$+'" viewBox="0 0 '+u+" "+$+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(m),A=[],T=x[C.animationEasing],O=h([$/2,u/2])-C.edgeOffset,P=O*(C.percentageInnerCutout/100),M=0,E=O+C.baseOffset,N=P-C.baseOffset;e(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({d:a(E,N),fill:C.baseColor}).appendTo(k);var _=e(document.createElementNS("http://www.w3.org/2000/svg","g"));_.attr({opacity:0}).appendTo(k);for(var D=e('<div class="'+C.tipClass+'" />').appendTo("body").hide(),F=(D.width(),D.height(),2*(P-(O-P))),B=e('<div class="'+C.summaryClass+'" />').appendTo(m).css({width:F+"px",height:F+"px","margin-left":-(F/2)+"px","margin-top":-(F/2)+"px"}),I=e('<p class="'+C.summaryNumberClass+'"></p>').appendTo(B).css({opacity:0}),L=(e('<p class="'+C.summaryTitleClass+'">'+C.summaryTitle+"</p>").appendTo(B),0),R=t.length;R>L;L++)M+=t[L].value,A[L]=e(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({"stroke-width":C.segmentStrokeWidth,stroke:C.segmentStrokeColor,fill:t[L].color,"data-order":L}).appendTo(_).on("mouseenter",n).on("mouseleave",i).on("mousemove",s);return d(l),m}}(jQuery);