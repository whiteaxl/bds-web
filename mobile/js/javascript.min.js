function update(){$wh=$(window).height(),$ww=$(window).width(),$(".modal-choose .modal-body").height($wh-46),$(".search, .post").height($wh),$(".wapper > .maps").height($wh-86),$(".search").find("input").hasClass("input-fr")&&($(".input-fr").val().length>0?($(".close-search").show(),$(".input-fr").css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style")));var t=($ww-20)/4-10;$(".post .postimg ul li").width(t).height(t),$(".post .postimg input[type=file]+label").height(t-2).css("line-height",t+"px")}function detailMore(t,e,a,o){"none"==$(e).css("display")?($(t).html(o),$(e).css("display","inline")):($(t).html(a),$(e).css("display","none"))}function relandPop(t,e){$(t).animate({right:0},120),$("body").addClass("bodySearchShow"),$(t).scrollTop(0),overlay(".overlay"),e&&$(t+"-footer").addClass("fixed")}function relandPopClose(t,e){$(t).removeAttr("style"),$("body").removeClass("bodySearchShow"),e&&$(t+"-footer").removeClass("fixed")}function searchreset(){$(".btn-more").removeAttr("style"),$(".more-box").addClass("more-box-hide"),$(".spinner").addClass("spinner-hide"),$(".spinner").parent().find(".collapse-title i").addClass("iconDownOpen").removeClass("iconUpOpen"),$(".btn-group .btn").removeClass("active"),$(".btn-group .btn:first-child").addClass("active")}function searchfr(){$(".search").removeAttr("style"),$("body").removeClass("bodySearchShow"),$(".search-footer").removeClass("fixed"),searchreset()}function searchopen(){$(".search_mobile").hasClass("active")?searchfr():($(".search").animate({right:0},120),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed"),overlay(".overlay"))}function post(){$(".post").animate({right:0},120),$("body").addClass("bodySearchShow"),$(".post").scrollTop(0),$(".post-footer").addClass("fixed"),overlay(".overlay")}function postExit(){$(".post").removeAttr("style"),$("body").removeClass("bodySearchShow"),$(".post-footer").removeClass("fixed")}function overlay(t){$(t).removeAttr("style"),$(".nav_mobile").removeClass("active").find("i").removeClass("iconLeftOpen").addClass("iconMenu"),$("body").removeClass("bodyNavShow").removeAttr("style"),$("nav.main").removeAttr("style")}function spinner(t,e,a){$(t).parent().find($(e)).hasClass(a)?($(t).parent().find($(e)).removeClass(a),$(t).find("i").addClass("iconUpOpen").removeClass("iconDownOpen"),$("html, body").animate({scrollTop:$(t).offset().top-44},300)):($(t).parent().find($(e)).addClass(a),$(t).find("i").addClass("iconDownOpen").removeClass("iconUpOpen"))}function boxClassToggle(t,e){$(t).toggleClass(e)}function showhide(t){$(t).toggle()}function showhidebox(t,e){$(t).hide(),$(e).show()}function showNotify(t){$(".notifyBox").fadeIn(300).delay(3e3).slideUp(300),(null!==t||""!=t)&&$(".notifyBox").html(t)}$(function(){$ww=$(window).width(),update(),$(window).resize(function(){update()}),$(".reland-title.fixed h3").html($(".wapper .reland-box:first-child h3").html()),$(".reland-title.fixed h4").html($(".wapper .reland-box:first-child h4").html()),$(".reland-title.fixed h5").html($(".wapper .reland-box:first-child h5").html()),showNotify(),$(".nav_mobile").click(function(){$(".overlay").show(),$(this).find("i").removeClass("iconMenu").addClass("iconLeftOpen"),$("body").addClass("bodyNavShow").animate({left:270},120),$("nav.main").animate({left:0},120)}),$(".overlay").click(function(){overlay(this)}),$(".search_mobile").click(function(){$(this).hasClass("active")?searchfr():($(".search").animate({right:0},120),$("body").addClass("bodySearchShow"),$(".search").scrollTop(0),$(".search-footer").addClass("fixed"))}),$(".search-footer a").click(function(){searchfr()}),$("header.main a").click(function(){$(this).toggleClass("active")}),$(".type-list li a, .list-sort li a").click(function(){$(this).parent().parent().find("a").removeClass("active"),$(this).addClass("active")}),$("#typeBox .type-list li a").click(function(){$(".type-box .collapse-title span label").html($(this).html())}),$("#trendBox .type-list li a").click(function(){$(".trend-box .collapse-title span label").html($(this).html())}),$("#projectBox .type-list li a").click(function(){$(".project-box .collapse-title span label").html($(this).html())}),$("#addressBox .type-list li a").click(function(){$(".address-box .collapse-title span label").html($(this).html())}),$("#contactBox .type-list li a").click(function(){$(".contact-box .collapse-title span label").html($(this).html())}),$("#detailBox .type-list li a").click(function(){$(".detail-box .collapse-title span label").html($(this).html())}),$(".btn-more .collapse-title").click(function(){$(this).parent().hide(),$(".more-box").removeClass("more-box-hide")}),$(".btn-reset .collapse-title").click(function(){searchreset()}),$(".list-check li a").click(function(){$(this).toggleClass("active")}),$("#contactBox .contact-list li a").click(function(){$(this).toggleClass("active")}),$(".btn-group .btn").click(function(){$(this).hasClass("other")||$(this).parent().find("input").val("")}),$(".pack-box .btn-group .btn").each(function(){$(this).hasClass("active")&&$(this).parent().parent().find(".iconCheck").addClass("actived")}),$(".pack-box .btn-group .btn").click(function(){$(".pack-box .iconCheck").removeClass("actived"),$(".pack-box .collapse-title").removeClass("actived"),$(this).parent().parent().find(".iconCheck").addClass("actived"),$(this).parent().parent().find(".collapse-title").addClass("actived")}),$(".pack-box a").click(function(){$(".pack-box .collapse-title").removeClass("actived"),$(".pack-box .iconCheck").removeClass("actived"),$(".pack-box .btn-group .btn").removeClass("active"),$(this).parent().find(".collapse-title").addClass("actived"),$(this).parent().find(".iconCheck").addClass("actived"),$(this).parent().find(".btn-group .btn:nth-child(2)").addClass("active")}),$(".input-fr").keyup(function(){$(this).val().length>0?($(".close-search").show(),$(this).css("width",$ww-78)):($(".close-search").removeAttr("style"),$(".input-fr").removeAttr("style"))}),$(".close-search").click(function(){$(this).removeAttr("style"),$(".input-fr").removeAttr("style").val("")}),$(".search .nav-tabs li a").click(function(){var t=$(this).attr("aria-controls"),e="";$(".search .nav-tabs li").removeClass("active"),$(this).parent().addClass("active"),$(".search .tab-content .tab-pane").removeClass("active"),$(".search .tab-content .tab-pane").each(function(){return t==$(this).attr("id")?void(e=$(this).attr("id")):void 0}),$("#"+e).addClass("active")}),$(".post-box .nav-tabs li a").click(function(){var t=$(this).attr("aria-controls"),e="";$(".post-box .nav-tabs li").removeClass("active"),$(this).parent().addClass("active"),$(".post-box .tab-content .tab-pane").removeClass("active"),$(".post-box .tab-content .tab-pane").each(function(){return t==$(this).attr("id")?void(e=$(this).attr("id")):void 0}),$("#"+e).addClass("active")});var t=0,e=$(".reland-title.fixed");$(".wapper .reland-box").each(function(){t++}),$(window).scroll(function(a){if(a.stopPropagation(),windowPos=$(window).scrollTop(),$(".wapper .reland-box").find("div").hasClass("reland-title")){for(var o=1;t>=o;o++){{var i=$(".wapper .reland-box_"+o),n=i.offset().top,s=i.height();i.find(".btn-box").offset().top}windowPos>=n&&n+s>windowPos&&(e.show(),e.find("h3").html(i.find("h3").html()),e.find("h4").html(i.find("h4").html()),e.find("h5").html(i.find("h5").html()))}$(".wapper .reland-box").each(function(){var t="."+$(this).attr("reland-item");$(t).offset().top<windowPos&&$(t).offset().top+$(t).height()-40>windowPos&&windowPos>$(t).find(".btn-box").offset().top-124&&e.hide()})}}),Hammer.plugins.fakeMultitouch(),$("select.drum").drum({onChange:function(t){0!=t.value&&$("#"+t.id+"_value").html($("#"+t.id+" option:selected").text())}}),$(".toggle").toggles({on:!1}),$(".toggle.on").toggles({on:!0})}),function(t){t.fn.drawDoughnutChart=function(e,a){function o(t,e){var a=-1.57,o=4.7131,i=v+b(a)*t,n=w+g(a)*t,s=v+b(a)*e,l=w+g(a)*e,r=v+b(o)*t,c=w+g(o)*t,d=v+b(o)*e,h=w+g(o)*e,p=["M",i,n,"A",t,t,0,1,1,r,c,"Z","M",d,h,"A",e,e,0,1,0,s,l,"Z"];return p=p.join(" ")}function i(a){var o=t(this).data().order;D.text(e[o].title+": "+e[o].value).fadeIn(200),y.onPathEnter.apply(t(this),[a,e])}function n(a){D.hide(),y.onPathLeave.apply(t(this),[a,e])}function s(t){D.fadeIn(200).css({top:t.pageY+y.tipOffsetY,left:t.pageX-D.width()/2+y.tipOffsetX})}function l(t){var a=-C/2,i=1;if(y.animation&&y.animateRotate&&(i=t),r(t,N),B.attr("opacity",t),1===e.length&&4.7122<i*(e[0].value/N)*2*C+a)return void A[0].attr("d",o(O,P));for(var n=0,s=e.length;s>n;n++){var l=i*(e[n].value/N)*2*C,c=a+l,d=(c-a)%(2*C)>C?1:0,h=v+b(a)*O,p=w+g(a)*O,$=v+b(a)*P,f=w+g(a)*P,m=v+b(c)*O,u=w+g(c)*O,x=v+b(c)*P,k=w+g(c)*P,S=["M",h,p,"A",O,O,0,d,1,m,u,"L",x,k,"A",P,P,0,d,0,$,f,"Z"];A[n].attr("d",S.join(" ")),a+=l}}function r(t,e){_.css({opacity:t}).text((e*t).toFixed(0)+"k")}function c(t,e){var a=y.animation?$(T(t),null,0):1;e(a)}function d(t){var e=y.animation?1/$(y.animationSteps,Number.MAX_VALUE,1):1,a=y.animation?0:1;k(function(){a+=e,c(a,t),1>=a?k(arguments.callee):y.afterDrawed.call(f)})}function h(t){return Math.min.apply(null,t)}function p(t){return!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e,a){return p(e)&&t>e?e:p(a)&&a>t?a:t}var f=this,m=f.width(),u=f.height(),v=m/2,w=u/2,b=Math.cos,g=Math.sin,C=Math.PI,y=t.extend({segmentShowStroke:!1,segmentStrokeColor:"#fff",segmentStrokeWidth:1,baseColor:"rgba(0,0,0,0)",baseOffset:1,edgeOffset:0,percentageInnerCutout:75,animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",animateRotate:!0,tipOffsetX:-8,tipOffsetY:-45,tipClass:"doughnutTip",summaryClass:"doughnutSummary",summaryTitle:"Tổng tài khoản",summaryTitleClass:"doughnutSummaryTitle",summaryNumberClass:"doughnutSummaryNumber",beforeDraw:function(){},afterDrawed:function(){},onPathEnter:function(){},onPathLeave:function(){}},a),x={linear:function(t){return t},easeInOutExpo:function(t){var e=.5>t?8*t*t*t*t:1-8*--t*t*t*t;return e>1?1:e}},k=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/6)}}();y.beforeDraw.call(f);var S=t('<svg width="'+m+'" height="'+u+'" viewBox="0 0 '+m+" "+u+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(f),A=[],T=x[y.animationEasing],O=h([u/2,m/2])-y.edgeOffset,P=O*(y.percentageInnerCutout/100),N=0,M=O+y.baseOffset,E=P-y.baseOffset;t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({d:o(M,E),fill:y.baseColor}).appendTo(S);var B=t(document.createElementNS("http://www.w3.org/2000/svg","g"));B.attr({opacity:0}).appendTo(S);for(var D=t('<div class="'+y.tipClass+'" />').appendTo("body").hide(),F=(D.width(),D.height(),2*(P-(O-P))),I=t('<div class="'+y.summaryClass+'" />').appendTo(f).css({width:F+"px",height:F+"px","margin-left":-(F/2)+"px","margin-top":-(F/2)+"px"}),_=t('<p class="'+y.summaryNumberClass+'"></p>').appendTo(I).css({opacity:0}),L=(t('<p class="'+y.summaryTitleClass+'">'+y.summaryTitle+"</p>").appendTo(I),0),R=e.length;R>L;L++)N+=e[L].value,A[L]=t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({"stroke-width":y.segmentStrokeWidth,stroke:y.segmentStrokeColor,fill:e[L].color,"data-order":L}).appendTo(B).on("mouseenter",i).on("mouseleave",n).on("mousemove",s);return d(l),f}}(jQuery);